{"ast":null,"code":"import _slicedToArray from \"/home/marcin/mlaskowski17/HackYeah2020/Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/marcin/mlaskowski17/HackYeah2020/Dashboard/src/views/Maps.js\";\n\n/* eslint jsx-a11y/anchor-is-valid: 0 */\nimport React from \"react\";\nimport { Container, Row, Col, Card, CardBody, CardFooter, Badge, Button } from \"shards-react\";\nimport { useState } from 'react';\nimport ReactMapGL from 'react-map-gl';\nimport PageTitle from \"../components/common/PageTitle\";\n\nvar BlogPosts = function BlogPosts() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      pageIsMounted = _useState2[0],\n      setPageIsMounted = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Map = _useState4[0],\n      setMap = _useState4[1];\n\n  var _useSWR = useSWR(\"/api/liveMusic\", fetcher),\n      data = _useSWR.data,\n      error = _useSWR.error;\n\n  if (error) {\n    console.error(error);\n  }\n\n  mapboxgl.accessToken = \"pk.eyJ1Ijoid2FubmFkYyIsImEiOiJjazBja2M1ZzYwM2lnM2dvM3o1bmF1dmV6In0.50nuNnApjrJYkMfR2AUpXA\";\n  useEffect(function () {\n    setPageIsMounted(true);\n    var map = new mapboxgl.Map({\n      container: \"my-map\",\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [21.2297, 52.0122],\n      zoom: 4.5,\n      pitch: 45 //   maxBounds: [\n      //     // [-77.875588, 38.50705], // Southwest coordinates\n      //     // [-76.15381, 39.548764], // Northeast coordinates\n      //   ],\n\n    });\n    initializeMap(mapboxgl, map);\n    setMap(map);\n  }, []);\n  useEffect(function () {\n    if (pageIsMounted && data) {\n      Map.on(\"load\", function () {\n        addDataLayer(Map, data);\n      });\n    }\n  }, [pageIsMounted, setMap, data, Map]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    width: \"100%\",\n    src: \"https://storage.googleapis.com/nextgrid_github_repo_visuals/Github%20Graphics%20/poland.jpg\",\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"my-map\",\n    className: \"map\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default BlogPosts;","map":{"version":3,"sources":["/home/marcin/mlaskowski17/HackYeah2020/Dashboard/src/views/Maps.js"],"names":["React","Container","Row","Col","Card","CardBody","CardFooter","Badge","Button","useState","ReactMapGL","PageTitle","BlogPosts","pageIsMounted","setPageIsMounted","Map","setMap","useSWR","fetcher","data","error","console","mapboxgl","accessToken","useEffect","map","container","style","center","zoom","pitch","initializeMap","on","addDataLayer"],"mappings":";;;;;AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,SADF,EAEEC,GAFF,EAGEC,GAHF,EAIEC,IAJF,EAKEC,QALF,EAMEC,UANF,EAOEC,KAPF,EAQEC,MARF,QASO,cATP;AAUA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,OAAOC,SAAP,MAAsB,gCAAtB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA,kBACoBH,QAAQ,CAAC,KAAD,CAD5B;AAAA;AAAA,MACfI,aADe;AAAA,MACAC,gBADA;;AAAA,mBAEAL,QAAQ,EAFR;AAAA;AAAA,MAEfM,GAFe;AAAA,MAEVC,MAFU;;AAAA,gBAGEC,MAAM,CAAC,gBAAD,EAAmBC,OAAnB,CAHR;AAAA,MAGdC,IAHc,WAGdA,IAHc;AAAA,MAGRC,KAHQ,WAGRA,KAHQ;;AAKtB,MAAIA,KAAJ,EAAW;AACTC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;;AAEDE,EAAAA,QAAQ,CAACC,WAAT,GACE,2FADF;AAGAC,EAAAA,SAAS,CAAC,YAAM;AACdV,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AAEA,QAAIW,GAAG,GAAG,IAAIH,QAAQ,CAACP,GAAb,CAAiB;AACzBW,MAAAA,SAAS,EAAE,QADc;AAEzBC,MAAAA,KAAK,EAAE,oCAFkB;AAGzBC,MAAAA,MAAM,EAAE,CAAC,OAAD,EAAU,OAAV,CAHiB;AAIzBC,MAAAA,IAAI,EAAE,GAJmB;AAKzBC,MAAAA,KAAK,EAAE,EALkB,CAMzB;AACA;AACA;AACA;;AATyB,KAAjB,CAAV;AAYAC,IAAAA,aAAa,CAACT,QAAD,EAAWG,GAAX,CAAb;AACAT,IAAAA,MAAM,CAACS,GAAD,CAAN;AACD,GAjBQ,EAiBN,EAjBM,CAAT;AAmBAD,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIX,aAAa,IAAIM,IAArB,EAA2B;AACzBJ,MAAAA,GAAG,CAACiB,EAAJ,CAAO,MAAP,EAAe,YAAY;AACzBC,QAAAA,YAAY,CAAClB,GAAD,EAAMI,IAAN,CAAZ;AACD,OAFD;AAGD;AACF,GANQ,EAMN,CAACN,aAAD,EAAgBG,MAAhB,EAAwBG,IAAxB,EAA8BJ,GAA9B,CANM,CAAT;AAQA,sBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,GAAG,EAAC,6FAFN;AAGE,IAAA,GAAG,EAAC,EAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME;AAAK,IAAA,EAAE,EAAC,QAAR;AAAiB,IAAA,SAAS,EAAC,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADF;AAUD,CAjDD;;AAmDA,eAAeH,SAAf","sourcesContent":["/* eslint jsx-a11y/anchor-is-valid: 0 */\n\nimport React from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardBody,\n  CardFooter,\n  Badge,\n  Button,\n} from \"shards-react\";\nimport { useState } from 'react';\nimport ReactMapGL from 'react-map-gl';\n\nimport PageTitle from \"../components/common/PageTitle\";\n\nconst BlogPosts = () => {\n  const [pageIsMounted, setPageIsMounted] = useState(false);\n  const [Map, setMap] = useState();\n  const { data, error } = useSWR(\"/api/liveMusic\", fetcher);\n\n  if (error) {\n    console.error(error);\n  }\n\n  mapboxgl.accessToken =\n    \"pk.eyJ1Ijoid2FubmFkYyIsImEiOiJjazBja2M1ZzYwM2lnM2dvM3o1bmF1dmV6In0.50nuNnApjrJYkMfR2AUpXA\";\n\n  useEffect(() => {\n    setPageIsMounted(true);\n\n    let map = new mapboxgl.Map({\n      container: \"my-map\",\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [21.2297, 52.0122],\n      zoom: 4.5,\n      pitch: 45,\n      //   maxBounds: [\n      //     // [-77.875588, 38.50705], // Southwest coordinates\n      //     // [-76.15381, 39.548764], // Northeast coordinates\n      //   ],\n    });\n\n    initializeMap(mapboxgl, map);\n    setMap(map);\n  }, []);\n\n  useEffect(() => {\n    if (pageIsMounted && data) {\n      Map.on(\"load\", function () {\n        addDataLayer(Map, data);\n      });\n    }\n  }, [pageIsMounted, setMap, data, Map]);\n\n  return (\n    <Container>\n      <img\n        width=\"100%\"\n        src=\"https://storage.googleapis.com/nextgrid_github_repo_visuals/Github%20Graphics%20/poland.jpg\"\n        alt=\"\"\n      />\n      <div id=\"my-map\" className=\"map\" />\n    </Container>\n  );\n};\n\nexport default BlogPosts;\n"]},"metadata":{},"sourceType":"module"}